<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Pokemons　roar　quiz</title>
    <style>
      div {
        background:greenyellow;
        width:300px;
        height:50px;
        border-radius: 20px;
        font-size: 30px;
        text-align: center;
        margin: 5px;
      }
    </style>
    <script> 
      let audio = null;
     function init(){
　    var num = Math.floor(Math.random () * 6) + 1;
      audio = document.getElementById("num" + num);
     }
     // const audioFiles = [
     //     "ほげ.mp3","",""
     // ]
      function playroar() {
        if (audio != null) {
          audio.currentTime = 0;
          audio.play();
        }
      }
      function reset(){
       num = Math.floor(Math.random () * 6 + 1);
       audio = document.getElementById("num" + num);
       //audio = new Audio();
       //audio.src = audioFiles[num];
      }

      function answer(){
        var filename = audio.firstChild.getAttribute("src")
        var answer = filename.substring(0, filename.indexOf("."))
        return answer;
      }
      function check(){
        const textElement = document.querySelector("#textid");
        ans = answer();
        if (textElement.value == null){
          alert("何も入力されてません。入力欄に答えを入力してください。");
        }
        if (ans==textElement.value){
            alert("そう、正解です！");
        }
        else {
            alert("残念！この鳴き声は"+ans+"の鳴き声でした！");
        }
      }
      window.addEventListener("load",init);
    </script>
  </head>
  <body>
    <h1>再生ボタンを押すと鳴き声が再生されます。</h1>
    <audio id="num1"><source src="フシギダネ.mp3"></audio>
    <audio id="num2"><source src="フシギソウ.mp3"></audio>
    <audio id="num3"><source src="フシギバナ.mp3"></audio>
    <audio id="num4"><source src="ヒトカゲ.mp3"></audio>
    <audio id="num5"><source src="リザード.mp3"></audio>
    <audio id="num6"><source src="リザードン.mp3"></audio>
    <div onmousedown="playroar()">鳴き声再生</div>
    <div onmousedown="reset()">鳴き声リセット</div>
    <input id="textid" type="text">
    <div onmousedown="check()">正解チェック</div>


  </body>
</html>
